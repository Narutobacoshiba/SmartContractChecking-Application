<template>
  <div class="container" id="gen-vul">
    <div id="header"><h1>General Vulnerabilty Setting</h1></div>
      <div class="row">
        <div class="col-3"><h4>Vulnerabilty:</h4></div>
        <div class="col-9">
        <select name="" id="vul-option" v-model="selected" multiple class="form-control">
          <option v-for="v in vuls" :key="v" :value="v">{{v.name}}</option>
        </select>
      </div>
    </div>
    <div class="row">
      <div class="col-2"></div>
    <div id="btn-group" class="col-9">
        <button class="btn btn-primary btn-sm" @click="routing('save')">Save</button>
        <button class="btn btn-primary btn-sm" @click="routing('conf')">Create a new Contract-Specific Property</button>
        <button class="btn btn-outline-secondary btn-sm" @click="routing('back')">Back</button>
      </div>
    </div>
  </div>
</template>

<script>
import {GetVulnerabilities} from "../../../../services/data";
export default {
  data(){
    return{
      vuls: [],
      selected: []
    }
  },
  mounted: function(){
    this.vuls = GetVulnerabilities();
  },
  name: "#gen-vul",
  methods: {
    routing(param) {
      if (param == "back") {
        this.$store.commit("data/SetFourthStepViews","property-coptions")
        this.$emit("changeView",1)
      }
      if (param == "conf") {
        this.$store.commit("data/UpdateFourthStepViewsList",{name:"vulcon-choosevul"})
        this.$store.commit("data/SetFourthStepViews","vulcon-choosevul")
        this.$emit("changeView",3)
      }
      if (param == "save") {
        this.$store.commit("data/SetProcessView","generate-sc2cpn");
      }
    },
  },
};
</script>

<style scoped>
#gen-vul {
  width: 70%;
}
#header{
  margin-top: 80px;
  text-align: center;
  font-size: 32px;
  font-weight: bold;
}
.row{
  margin-top: 50px;
  margin-bottom: 50px;
}
select{
  height: 150px;
}
#btn-group{
  width: 70%;
  display: flex;
  align-items: center;
  margin-top: 40px;
}
button{
  margin: auto;
}

</style>