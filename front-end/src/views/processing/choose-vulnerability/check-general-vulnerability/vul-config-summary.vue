<template>
  <div class="container " id="main">
    <div class="container" style="margin-bottom: 3%">
      <h2>Vulnerability/CS-Property Confguration</h2>
      <h2>Summary</h2>
    </div>
    <div class="container row" style="margin-bottom: 5%">
      <div class="col-3">Vulnerability/CS-Property</div>
      <div class="col-9">
        <select class="form-select">
          <option v-for="vulnerability in list_vulnerabilities" :key="vulnerability.id">
            {{ vulnerability.name }}
          </option>
        </select>
      </div>
    </div>
    <div v-for="c in list_scs" v-bind:key="c.id" class="full-size selected-els">
      <selected-els :sc_id="c.id" :sc_name="c.name" />
    </div>
    <!--End main box-->
    <div class="container" style="width: 70%; margin-top: 5%">
      <button
        @click="routing('finish')"
        type="button"
        class="btn btn-outline-primary"
      >
        Finish
      </button>
      <button
        @click="routing('back')"
        type="button"
        class="btn btn-outline-secondary"
      >
        Back
      </button>
      <button
        @click="routing('cancel')"
        type="button"
        class="btn btn-outline-secondary"
      >
        Cancel
      </button>
    </div>
  </div>
</template>


<script>
import {GetVulnerabilities} from "../../../../services/data"

export default {
  components: {
  },
  computed: {
      list_scs() {
        return this.$store.getters["data/GetSelectedSC"]
      }
  },
  methods: {
    routing(param) {
      if(param == "finish"){
        this.$store.commit("data/SetProcessView",'generate-sc2cpn')
      }
      if(param == "back"){
        this.$store.commit("data/SetFourthStepViews","vulcon-select-els")
        this.$emit("changeView",1)
      }
      if(param == "cancel"){
        this.$store.commit("data/SetFourthStepViews","property-coptions")
        this.$emit("changeView",1)
      }
    },
    isSelected(sc_id) {
        var gvs = this.$store.state.data.selectedSCInfor[sc_id].list_gvs.length > 0 ? true : false
        var lvs = this.$store.state.data.selectedSCInfor[sc_id].list_lvs.length > 0 ? true : false
        return gvs || lvs
    }
  },
  data() {
    return {
      list_vulnerabilities: []
      }
  },
  mounted() {
      this.list_vulnerabilities = GetVulnerabilities()
  }
}
</script>

<style scoped>
#main{
  width: 70%;
}
.title {
  text-align: center;
  font-size: 1.5em;
  font-weight: bold;
}
select {
  width: 100%;
  margin: 0;
}
.form-control {
  height: 100px;
  overflow: auto;
}
.row {
  margin: 2% 0%;
  text-align: left;
  width: 100%;
}
#header {
  background-color: rgba(204, 203, 203, 0.733);
}
.table-list {
  width: 100%;
  margin: auto;
  font-size: 0.9em;
  height: 250px;
  overflow-y: auto;
  border-radius: 10px;
  border-color: rgba(204, 203, 203, 0.733);
  border-style: solid;
}
.up-down {
  display: inline;
  float: right;
}
span:hover {
  cursor: pointer;
  opacity: 0.9;
  color: dimgrey;
}
.table-list .row {
  height: 30px;
  background-color: #ffffff;
  border-top: 1px solid #dee2e6;
  vertical-align: middle;
  align-items: center;
  margin: 0;
}
.select {
  text-align: center;
}
.vertical-nav {
  display: block;
  float: right;
}
.nav-item .active {
  color: white;
  background-color: #383838;
  border: grey;
}
.vertical-tab {
  border-bottom: black solid;
  overflow: auto;
}
.nav-link {
  color: #383838;
  border: grey solid;
  border-bottom: none;
}
.nav-link:hover {
  cursor: pointer;
}
.nav-item {
  width: 150px;
  margin-right: 3px;
}
.col-9,
.col-3 {
  padding: 0;
  text-align: left;
}
button {
  margin: 3%;
  width: 80px;
}
div{
  text-align: center;
}
@media only screen and (max-width: 768px){
  [class*="col-"] {
  width: 100%;
}
.row{
  margin: 10% 0 10% 0;
}
h1, h2{
  font-size: 150%;
}
.full-size{
  width: 100%;
}
#main{
  width: 100%;
}
}
</style>